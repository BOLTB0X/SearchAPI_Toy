âš ï¸ ì§„í–‰ ì¤‘

# ì¹´ì¹´ì˜¤ Daum Search Open APIë¥¼ í™œìš©í•œ ê²€ìƒ‰ í”„ë¡œì íŠ¸

![ì›ê¸°ì˜¥](https://media.tenor.com/E7fROB_zqFAAAAAC/%EC%9B%90%EA%B8%B0%EC%98%A5.gif)

~~ì¡°ê¸ˆì”© ì¡°ê¸ˆì”©~~
<br/>

## ì†Œê°œ

| ë¡œë”© í™”ë©´                                                                                                          | ë©”ì¸ í™”ë©´                                                                            |
| ------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------ |
| ![ë¡œë”©](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%A1%9C%EB%94%A9.gif?raw=true) | ![ë©”ì¸](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/main.gif?raw=true) |

| ë™ì˜ìƒ ê²€ìƒ‰                                                                                                    | ì¹´ë“œë·° UI                                                                                                     |
| -------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| ![ë™ì˜ìƒ ê²€ìƒ‰](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/vclip%EA%B2%80%EC%83%89.gif?raw=true) | ![ì¹´ë“œë·°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/%EC%B9%B4%EB%93%9C%EB%B7%B0.gif?raw=true) |

<br/>

ë³¸ í”„ë¡œì íŠ¸ëŠ” ì¹´ì¹´ì˜¤ì˜ Daum Search Open APIë¥¼ í™œìš©í•˜ì—¬ ë‹¤ì–‘í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ Toy Projectì…ë‹ˆë‹¤.

ê²€ìƒ‰ ê´€ë ¨ ëª¨ë“  APIì™€ íŒŒë¼ë¯¸í„°ë¥¼ í™œìš©í•˜ì—¬ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ›  ê°œë°œ í™˜ê²½ ë° ê¸°ìˆ  ìŠ¤íƒ

| í•­ëª©         | ë‚´ìš©                                                                               |
| ------------ | ---------------------------------------------------------------------------------- |
| ğŸ–¥ ê°œë°œ í™˜ê²½  | Xcode 14.2, iOS 15.0                                                               |
| ğŸš€ ì£¼ìš” ê¸°ìˆ  | SwiftUI, Combine, CoreData                                                         |
| ğŸ“ ê°œë°œ ì–¸ì–´ | Swift                                                                              |
| REST API     | [Daum ê²€ìƒ‰ API](https://developers.kakao.com/docs/latest/ko/daum-search/dev-guide) |

## ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥           | ì„¤ëª…                                                |
| -------------- | --------------------------------------------------- |
| ğŸ” ë™ì˜ìƒ ê²€ìƒ‰ | ë¹„ë””ì˜¤ ê²€ìƒ‰ APIë¥¼ ì´ìš©í•˜ì—¬ ë™ì˜ìƒ ê²€ìƒ‰ ë° ê²°ê³¼ í‘œì‹œ |
| ğŸ“š ì±… ê²€ìƒ‰     | ì±… ê²€ìƒ‰ APIë¥¼ í™œìš©í•˜ì—¬ ë‹¤ì–‘í•œ ì±… ì •ë³´ ê²€ìƒ‰          |
| ğŸ“° ë‰´ìŠ¤ ê²€ìƒ‰   | ë‰´ìŠ¤ ê²€ìƒ‰ APIë¥¼ í†µí•´ ìµœì‹  ë‰´ìŠ¤ ê²€ìƒ‰ ë° í™•ì¸         |
| ğŸ–¼ï¸ ì´ë¯¸ì§€ ê²€ìƒ‰ | ì´ë¯¸ì§€ ê²€ìƒ‰ APIë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ      |
| ğŸ·ï¸ ì¹´ë“œë·° UI   | ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì¹´ë“œë·° í˜•íƒœë¡œ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„           |

<details>
<summary>ë¬´í•œìŠ¤í¬ë¡¤</summary>

**ì´ë¯¸ì§€ ë¡œë”©ì„ Async ì²˜ë¦¬, ë¡œë”© ì¤‘ì¼ ë•Œ êµ¬ë¶„**

| ì›¹ë¬¸ì„œ                                                                                                                                                      | ì´ë¯¸ì§€                                                                                       | ë™ì˜ìƒ                                                                                                                                                                     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ![ì›¹ë¬¸ì„œ](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%20%EC%9B%B9.gif?raw=true) | ![ì´ë¯¸ì§€](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/ë¬´í•œìŠ¤í¬ë¡¤.gif?raw=true) | ![ë™ì˜ìƒ](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%EB%8F%99%EC%98%81%EC%83%81.gif?raw=true) |

| ì±…                                                                                                                                                   | ì¹´í˜                                                                                                                                                            | ë¸”ë¡œê·¸                                                                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ![ì±…](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%EB%B6%81.gif?raw=true) | ![ì¹´í˜](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%B9%B4%ED%8E%98.gif?raw=true) | ![ë¸”ë¡œê·¸](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%EB%B8%94%EB%A1%9C%EA%B7%B8.gif?raw=true) |

</details>

<details>
<summary>ê²€ìƒ‰</summary>

| ê²€ìƒ‰ê¸°ë¡                                                                                     | ê²€ìƒ‰ ì¡°ê±´ ì„¤ì •                                                                                                                                                                                                      |
| -------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ![ê²€ìƒ‰ê¸°ë¡](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/ê²€ìƒ‰ê¸°ë¡.gif?raw=true) | ![ê²€ìƒ‰](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EA%B2%80%EC%83%89%EC%A1%B0%EA%B1%B4%20%EC%A0%81%EC%9A%A9_%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0%20%EC%A0%81%EC%9A%A9.gif?raw=true) |

| ê²€ìƒ‰ ê¸°ë¡ ì‚­ì œ                                                                                    | ê²€ìƒ‰ ì¤‘ ì¡°ê±´ ë³€ê²½                                                                                   |
| ------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| ![ê¸°ë¡ì‚­ì œ](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/ê²€ìƒ‰ê¸°ë¡_ì‚­ì œ.gif?raw=true) | ![ê²€ìƒ‰ì¡°ê±´](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/ê²€ìƒ‰ì¡°ê±´%20ë³€ê²½.gif?raw=true) |

</details>

<details>
<summary>ë·° ë§ˆë‹¤ ê²Œì‹œë¬¼ì˜ ì°¨ì´</summary>

| ì´ë¯¸ì§€                                                                                             | ë™ì˜ìƒ                                                                                |
| -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| ![1](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/img%EA%B2%80%EC%83%89.gif?raw=true) | ![2](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/webview1.gif?raw=true) |

| Card ë·°                                                                                             | WebView                                                                               |
| --------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| ![3](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/cafe%EA%B2%80%EC%83%89.gif?raw=true) | ![4](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/webview2.gif?raw=true) |

</details>

## ê° ê²€ìƒ‰ ë·°ë“¤ ê°„ëµ ì„¤ëª…

### 1. ì›¹ë¬¸ì„œ ê²€ìƒ‰

| Web ê²€ìƒ‰ 1                                                                           | Web ê²€ìƒ‰ 2                                                                                                                                             |
| ------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ![3](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/webê²€ìƒ‰.gif?raw=true) | ![4](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/%EA%B8%B0%EB%A1%9D/%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%20%EC%9B%B9.gif?raw=true) |

<details>
<summary>API ë° ë¬´í•œ ìŠ¤í¬ë¡¤ Code ì„¤ëª…</summary>

1. APIë¡œ ë°›ì•„ì˜¬ ëª¨ë¸ ì •ì˜ ë° APIë¥¼ ì‚¬ìš©í•˜ë„ë¡ íŒŒì‹±

   ```swift
   // in WebSearchModel.swift
   // MARK: - WebResponse
   struct WebResponse: Codable {
       let meta: WebMeta?
       var documents: [WebDocument]
   }

   // MARK: - WebDocument
   struct WebDocument: Codable, Identifiable {
    let id = UUID()
    var datetime, contents, title: String
    let url: String
   }

   // MARK: - WebSearchManger
   // DataPublisherë¡œ ë°›ì•„ì˜¨ dataë¥¼ WebSearchModel í˜•íƒœë¡œ ë””ì½”ë”© ë° íŒŒì‹±ìš©
   final class WebSearchManger {
       // ì‹±ê¸€í†¤ ì ìš©
       static let shared: WebSearchManger = .init()

       // MARK: - WebDocumentPublisher
       func WebSearchPublisher(dataPublisher: AnyPublisher<Data, Error>) ->  AnyPublisher<WebResponse, Error> {
           let responsePublisher = dataPublisher
           // ë””ì½”ë”©
               .decode(type: WebResponse.self, decoder: JSONDecoder())
           // WebSearch í˜•íƒœë¡œ ê²°ê³¼ ìª¼ê°œê¸°
               .map { response in
                   var streamedResponse = response
                   streamedResponse.documents = response.documents.map { document in
                       var streamedDocument = document
                       streamedDocument.title = streamedDocument.title.stripHTMLTags()
                       streamedDocument.contents = streamedDocument.contents.stripHTMLTags()
                       streamedDocument.datetime = streamedDocument.datetime.fomatDateTime()!
                       return streamedDocument // í…Œê·¸ ì œê±°, ë‚ ì§œ í‘œê¸° ë³€ê²½ ì™„ë£Œ
                   }
                   return streamedResponse // html í…Œê·¸ ë¤ Responseë¥¼ ë°˜í™˜
               }
               .eraseToAnyPublisher()
           return responsePublisher
       }
   }
   ```

2. ë¬´í•œìŠ¤í¬ë¡¤

   - ë¬´í•œìŠ¤í¬ë¡¤ë¡œ ë‚´ë¦¬ë‹¤ ë” ë¶ˆëŸ¬ì˜¬ì§€ ë·°ëª¨ë¸ ë‚´ ë©”ì†Œë“œ `checkFetchMore`ë¡œ íŒë‹¨

   - í˜„ì¬ ê²Œì‹œë¬¼ì´ ë§ˆì§€ë§‰ì´ë©´ ë” ë¶ˆëŸ¬ì™€ì•¼ í•˜ë¯€ë¡œ ë©”ì†Œë“œ `FetchDataAtScroll` í˜¸ì¶œ

   - ë·°ì—ì„  **Loding** í‘œì‹œ
     <br/>

   ```swift
   // in WebSearchViewModel.swift
   // MARK: - fetchWebSearchData
   // ë·°ëª¨ë¸ì—ì„œ ê²€ìƒ‰ì–´ì— ê´€ë ¨ëœ WebSearchDataë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì†Œë“œ
   func fetchWebSearchData(query: String) {
     // ...
     // ...

     DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
       guard let self = self else { return }
         // ë°›ì•„ì˜¨ dataë¥¼ WebSearchì— ë§ê²Œ ë” ë””ì½”ë”© ë° íŒŒì‹±
         WebSearchManger.shared
           .WebSearchPublisher(dataPublisher: dataPublisher)
   //                .receive(on:
      DispatchQueue.main) // ì–´ì°¨í”¼
         DispatchQueue.main.asyncAfterì„ ì‚¬ìš©í•˜ë¯€ë¡œ
           .sink(receiveCompletion: { [weak self] completion in
               self?.webOnReceive(completion)
           }, receiveValue: { [weak self] response in
               self?.webOnReceive(response)
           })
           .store(in: &self.cancellables)
       }
   }

   // MARK: - checkFetchMore
   // dataë¥¼ ë” ê°€ì ¸ì˜¬ì§€ íŒë‹¨í•˜ëŠ” ë©”ì†Œë“œ
   func checkFetchMore(document: WebDocument) {
      // ë¹„ì–´ìˆì§€ ì•Šê³  í˜„ì¬ documentê°€ ë§ˆì§€ë§‰ì´ë©´
      if !searchWeb.isEmpty && document == searchWeb.last {
         FetchDataAtScroll() // í˜¸ì¶œ
         return
       }
       return
   }

   // ..
   // ..
   // MARK: - FetchDataAtScroll
   // ìŠ¤í¬ë¡¤ë¡œ ë°ì´í„°ë¥¼ ë‚´ë¦´ëŒ€ í˜¸ì¶œ
   func FetchDataAtScroll() {
     // ...

     // ì´ì–´ì„œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸
     searchParam.page = self.currentPage + 1

     // ...
     // ...

     DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
       guard let self = self else { return }
             // fetchWebSearchDataì™€ ë™ì¼í•œ ë¡œì§ì´ë¯€ë¡œ
             // ìƒëµ
             // ...
       }
   }
   ```

[WebSearchModel.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Models/KakaoAPI/WebSearchModel.swift)
[WebViewModel.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/ViewModels/WebSearchViewModel.swift)

</details>

<details>
<summary>ê²Œì‹œë¬¼ì„ í´ë¦­ì‹œ ì›ë³¸ ë§í¬ë¡œ ì´ë™ ì½”ë“œ ì„¤ëª…</summary>

```swift
//  in WebCeilView.swift

import SwiftUI

struct WebCell: View {
    let webCell: WebDocument

    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            // ì œëª© í´ë¦­ì‹œ ì›ë³¸ ë§í¬ë¡œ
            NavigationLink(destination: WebView(urlToLoad: webCell.url), label: {
                // ì œëª©
                Text(webCell.title)
                    .font(.system(size: 25, weight: .bold))
                    .bold()
                    .lineLimit(1) // í•œì¤„ë¡œ ì œí•œ
            })

            // ìƒëµ
            // ....
            // ....
        }
    }
}
```

[WebView.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/SubView/WebView.swift)
[WebCeilView.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/Web/WebCell.swift)

</details>

### 2. ì´ë¯¸ì§€ ê²€ìƒ‰

| ì´ë¯¸ì§€ ê²€ìƒ‰                                                                            |
| -------------------------------------------------------------------------------------- |
| ![img](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/imgê²€ìƒ‰.gif?raw=true) |

<br/>

<details>
<summary>ì´ë¯¸ì§€ ê²Œì‹œë¬¼ë“¤ ìˆ˜í‰ìœ¼ë¡œ í‘œí˜„ ì½”ë“œ ì„¤ëª…</summary>

- `ScrollView` ê°ì‹¼ í›„, `LazyVGrid` ì´ìš©

  ```swift
  // in ImageCollectionView.swift
  import SwiftUI

  struct ImageCollection: View {
      // ...
      // ...

      var body: some View {
          // ìŠ¤í¬ë¡¤ ë·° êµ¬ì„±
              ScrollView {
                  LazyVGrid(columns: gridItemLayout, spacing: 10) {
                  ForEach(imgViewModel.searchImage, id: \.self) { document in
                              .onAppear() {
                                  // ë” ë¶ˆëŸ¬ì˜¤ëŠ” ì§€
                                  imgViewModel.checkFetchMore(document: document)
                               }
                               .onTapGesture {
                                  showPopup.toggle()
                                  imgViewModel.updateImageDetail(document: document) // ì´ë¯¸ì§€ ìƒì„¸ ì—…ë°ì´íŠ¸
                               }
                      }
                      .padding(5)
                  }
               }
       }
  }
  ```

[ImageCollection.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/Image/ImageCollection.swift)

</details>

<details>
<summary>ì´ë¯¸ì§€ ê²Œì‹œë¬¼ í´ë¦­(actionView ì»¤ìŠ¤í…€) ì½”ë“œ ì„¤ëª…</summary>

```swift
// in ImageSearch.swift
  // ...
  // ...


    // MARK: - ìƒì„¸ íŒì—… ë·°
    .popupNavigationView(horizontalPadding: 40, show: $imgClick) {
      ImageDetail(document: imageViewModel.imgDetail)
        .navigationTitle("ìƒì„¸ ì •ë³´")
        .navigationBarTitleDisplayMode(.inline)
          .toolbar {
              ToolbarItem(placement: .navigationBarLeading) {
                  Button("ë‹«ê¸°") {
                      withAnimation {
                          imgClick.toggle()
                      }
                  }
                }
            }
      }
```

[ImageSearch.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/Image/ImageSearch.swift)

</details>

### 3. ë™ì˜ìƒ ê²€ìƒ‰

| ì´ë¯¸ì§€ ê²€ìƒ‰                                                                                |
| ------------------------------------------------------------------------------------------ |
| ![vclip](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/vclipê²€ìƒ‰.gif?raw=true) |

<br/>

<details>
<summary>ë™ì˜ìƒ ê²Œì‹œë¬¼ í‘œí˜„ ì½”ë“œ ì„¤ëª…</summary>

ë¦¬ìŠ¤íŠ¸ ë°©ì‹ì€ ë‹¤ë¥¸ ê²ƒê³¼ ë™ì¼

`AsyncImage`ì™€ `imageLoading` ìœ¼ë¡œ ì´ë¯¸ì§€ ë¡œë”©ì„ ë¹„ë™ê¸°ë¡œ ë‚˜íƒ€ëƒ„

```swift
// in VclipCellView.swift
import SwiftUI

struct VclipCell: View {
    let document: VclipDocument
    @State private var imageLoading: Bool = true // ë¡œë”© ì¤‘ì¸ì§€ íŒë‹¨ ìš©ë„

    var body: some View {
        HStack {
            AsyncImage(url: URL(string: document.thumbnail)) { image in
                image
                    .resizable()
                    .frame(width: 180, height: 100)
                    .aspectRatio(contentMode: .fit)
                    .cornerRadius(8)
                    .onAppear {
                        imageLoading = false // ê°€ë¦¬ê¸° ì·¨ì†Œ
                    }

            } placeholder: {
                Image("free-icon-gallery")
                    .resizable()
                    .frame(width: 180, height: 100)
                    .aspectRatio(contentMode: .fit)
                    .cornerRadius(8)
                    .onAppear {
                        imageLoading = true // ê°€ë¦¬ê¸°
                    }
                    .redacted(reason: .placeholder)
            }

            VStack(alignment: .leading) { // ì˜ìƒê´€ë ¨
                if imageLoading {
                    Text("Loading..............................................................")
                        .font(.system(size: 15, weight: .bold))
                        .fontWeight(.black)
                        .foregroundColor(.primary)
                        .lineLimit(1)
                        .redacted(reason: .placeholder)
                } else {
                    Text("\(document.title)")
                        .font(.system(size: 15, weight: .bold))
                        .fontWeight(.black)
                        .foregroundColor(.primary)
                        .lineLimit(1)
                }

                Spacer()
                VStack(alignment: .leading) {
                    // ë¡œë”© ì¤„ì¼ë•Œ
                    if imageLoading {
                        Spacer()
                        Text("Loading...........................")
                            .lineLimit(1)
                            .font(.system(size: 10, weight: .light))
                            .redacted(reason: .placeholder)
                        Text("Loading...........")
                            .lineLimit(1)
                            .font(.system(size: 10, weight: .light))
                            .redacted(reason: .placeholder)
                    }
                    else {
                        Spacer()
                        Text("\(document.author)")
                            .font(.system(size: 10, weight: .light))
                            .foregroundColor(.secondary)
                            .lineLimit(1)
                        Text("\(document.datetime)")
                            .font(.system(size: 10, weight: .light))
                            .foregroundColor(.secondary)
                            .lineLimit(1)

                    }
                    Spacer()
                }
                Spacer()
            }
            .padding(4)
        }
        .padding(8)
    }
}
```

</details>

### 4. ì±…/ì¹´í˜/ë¸”ë¡œê·¸ ê²€ìƒ‰

| ì±… ê²€ìƒ‰                                                                                  | ì¹´í˜ ê²€ìƒ‰                                                                                | ë¸”ë¡œê·¸ ê²€ìƒ‰                                                                              |
| ---------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| ![book](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/bookê²€ìƒ‰.gif?raw=true) | ![cafe](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/cafeê²€ìƒ‰.gif?raw=true) | ![blog](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/gif/01/blogê²€ìƒ‰.gif?raw=true) |

<details>
<summary> ì¹´ë“œ ë·°</summary>

`RoundedRectangle` ì— `stroke` ì„ ì ìš©í•˜ê³  `overlay`ë¡œ ê²¹ì¹˜ê¸°

```swift
// MARK: - ì¹´ë“œ ë·° (CardView)
struct CardView: View {
    let title: String  // ê²Œì‹œë¬¼ ì œëª©
    let cate: String   // ê²Œì‹œë¬¼ ì¹´í…Œê³ ë¦¬
    let imgURL: String // ê²Œì‹œë¬¼ ì´ë¯¸ì§€ URL
    let date: String   // ê²Œì‹œë¬¼ ë‚ ì§œ
    let time: Int? = nil // (ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë³€ìˆ˜)

    @State private var loading: Bool = true // ë¡œë”© ìƒíƒœ ë³€ìˆ˜

    var body: some View {
        VStack(alignment: .leading) {
            // ìƒëµ
            // ....
        }
        .cornerRadius(10) // ì¹´ë“œ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ ì²˜ë¦¬
        .overlay(
            RoundedRectangle(cornerRadius: 10)
                .stroke(Color(.sRGB, red: 150/255, green: 150/255, blue: 150/255, opacity: 0.5), lineWidth: 1) // í…Œë‘ë¦¬ ì ìš©
        )
        .padding(.horizontal) // ì¢Œìš° ì—¬ë°± ì¶”ê°€
    }
}
```

[CardView.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/SubView/CardView.swift)

</details>

### 5. ê²€ìƒ‰ ê¸°ë¡

<details>
<summary> ê²€ìƒ‰ í•„í„°</summary>

`Picker` ì´ìš©, API ê°€ì´ë“œ ë¬¸ì„œë¥¼ ë³´ë©° í˜ì´ì§€ ìˆ˜ ë“±ì„ ì„¤ì •

```swift
//  NetworkManager.swift
import Foundation
import Combine

// ìƒëµ
// ..
// ..

// MARK: - SearchParameter
// ìƒëµ
// ..

// MARK: - NetworkManager
// ê° API ë³„ ê³µí†µì ìœ¼ë¡œ ì“¸ ë©”ì†Œë“œë“¤ì„ ì •ì˜
// ë³µì¡í•œ ë¡œì§ì´ í•„ìš”í•˜ì§€ ì•Šì•„ enum ì´ìš©
enum NetworkManager {
    // MARK: - apiKey: ë²ˆë“¤ë¡œ apiKey ê°€ì ¸ì˜¤ê¸°
    static var apiKey: String? {
        guard let apiKey = Bundle.main.object(forInfoDictionaryKey: "API_KEY") as? String else {
            fatalError("Info.plistì•ˆì— API_KEYê°€ ì—°ê²°ì´ ì•ˆë¨")
        }
        return apiKey
    }

    // MARK: - RequestURL
    // ìš”ì²­í•  URLì„ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ
    // íŒŒë¼ë¯¸í„° ìˆ˜ì •
    static func RequestURL(Url: String, searchParam: SearchParameter) -> URLRequest? {
        guard let apiKey = NetworkManager.apiKey else {
            fatalError("API_KEYê°€ ì„¤ì • X\n ë²ˆë“¤ ì˜ì‹¬")
        }

        var requestURL = URL(string: Url)!
                var components = URLComponents(url: requestURL, resolvingAgainstBaseURL: true)!

        // ê²€ìƒ‰ì–´ëŠ” í•„ìˆ˜
        components.queryItems = [
            URLQueryItem(name: "query", value: searchParam.query)
        ]

        // ì„ íƒì‚¬í•­ì¸ ìš”ì²­ íŒŒë¼ë¯¸í„°
        if let sort = searchParam.sort {
            components.queryItems?.append(URLQueryItem(name: "sort", value: sort))
        }

        if let page = searchParam.page {
            components.queryItems?.append(URLQueryItem(name: "page", value: String(page)))
        }

        if let size = searchParam.size {
            components.queryItems?.append(URLQueryItem(name: "size", value: String(size)))
        }

        if let target = searchParam.targetField {
            components.queryItems?.append(URLQueryItem(name: "target", value: target))
        }

        // ë§ˆì§€ë§‰ ì²´í¬
        guard let finalURL = components.url else {
            fatalError("ì˜ëª»ëœ URL")
        }

        // ì´ì œ API ì¸ì¦ í›„ ìš”ì²­
        var retURL = URLRequest(url: finalURL)
        retURL.setValue("KakaoAK \(apiKey)", forHTTPHeaderField: "Authorization")
        retURL.httpMethod = "GET"

        return retURL
    }

    // ìƒëµ
    // ...
```

[SearchPicker.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Views/SubView/Search/SearchPicker.swift)

[Network.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy02/SearchAPI_Toy/Models/Network.swift)

</details>

<details>
<summary> ê²€ìƒ‰ì–´ ê¸°ë¡ ì¤‘ë³µ ë°©ì§€</summary>

ë™ì¼í•œ ê²€ìƒ‰ì„ ì—¬ëŸ¬ë²ˆ í•˜ë©´ ê²€ìƒ‰ ê¸°ë¡ ë¦¬ìŠ¤íŠ¸ì— ë§ì´ ë‚¨ê²Œ ë¨

ì´ë¥¼ ì½”ì–´ë°ì´í„°ë¡œ ë„£ì–´ì¤„ ë•Œ í•„í„°ë§ ì ìš©

```swift
// in CoreDataManager.swift
import Foundation
import CoreData

// MARK: - CoreDataManager
class CoreDataManager {
    static let shared = CoreDataManager()

    private init() { }

    // MARK: - searchContainer
    // ìƒëµ
    // ...
    // ...

    // MARK: - saveSearchHistory
    // ê²€ìƒ‰ ê¸°ë¡ìœ¼ë¡œ coreDataì— ë„£ì–´ì£¼ëŠ” ì—­í• 
    func saveSearchHistory(query: String, date: Date) {
        let context = searchContainer.viewContext
        let entity = NSEntityDescription.entity(forEntityName: "SearchHistory", in: context)!

        // ë™ì¼í•œ ì¿¼ë¦¬ê°€ ìˆëŠ”ì§€ í™•ì¸
        let fetchRequest: NSFetchRequest<NSFetchRequestResult> = NSFetchRequest(entityName: "SearchHistory")
        fetchRequest.predicate = NSPredicate(format: "query == %@", query)

        do {
            let newSearch = try context.fetch(fetchRequest) as? [NSManagedObject]

            if let pastSearch = newSearch?.first {
                // ê¸°ì¡´ ê²€ìƒ‰ì–´ë¥¼ ì‚­ì œ
                context.delete(pastSearch)
            }

            // ìƒˆë¡œìš´ ê²€ìƒ‰ ê¸°ë¡ ìƒì„±
            let searchHistory = NSManagedObject(entity: entity, insertInto: context)
            searchHistory.setValue(query, forKeyPath: "query")
            searchHistory.setValue(date, forKeyPath: "date")

            try context.save()
        } catch {
            print("ì‹¤íŒ¨: \(error)")
        }
    }

    // ìƒëµ
    // ...
    // ..
```

[CoreDataManager.swift ì½”ë“œ ë³´ê¸°](https://github.com/BOLTB0X/SearchAPI_Toy/blob/main/SearchAPI_Toy01/SearchAPI_Toy/Models/CoreData/CoreDataManager.swift)

</details>

## ì°¸ê³ 

- API ê´€ë ¨

  - [api í˜¸ì¶œ ë°©ë²•](https://donghoon.io/blog/swift_image_search/) +[api í˜¸ì¶œ ê´€ë ¨](https://rldd.tistory.com/215)

- ë¬´í•œ ìŠ¤í¬ë¡¤ ê´€ë ¨

  - [V8tr/InfiniteListSwiftU](https://github.com/V8tr/InfiniteListSwiftUI)

  - [codekodo.tistory](https://codekodo.tistory.com/207)

- íŒì—… ê´€ë ¨

  - [custom PopUp](https://github.com/SnowLukin/CustomPopUp)

- ì• ë‹ˆë©”ì´ì…˜

  - [KeatoonMask](https://github.com/KeatoonMask/SwiftUI-Animation/tree/master)

  - [ê¸°ë³¸ ì• ë‹ˆë©”ì´ì…˜](https://80000coding.oopy.io/bfcbea75-767f-4a9a-87c3-0883a97115bc)

- SwiftUI ê´€ë ¨

  - [ProgressView ê´€ë ¨](https://seons-dev.tistory.com/entry/SwiftUI-ProgressView-ì‘ì—…-ì§„í–‰ë¥ )

  - [Redacted ê´€ë ¨](https://seons-dev.tistory.com/entry/SwiftUI-Redacted)

  - [weak self ê´€ë ¨](https://ios-development.tistory.com/926)

  - [tabView ê´€ë ¨](https://seons-dev.tistory.com/entry/SwiftUI-TabView)

  - [Picker ê´€ë ¨](https://www.hohyeonmoon.com/blog/swiftui-tutorial-picker/)

  - [WebView](https://seons-dev.tistory.com/entry/SwiftUI-WebView-%EC%83%9D%EC%84%B1%EC%BD%94%EB%93%9C)

  - [ê²€ìƒ‰ ë·° ê´€ë ¨](https://www.hackingwithswift.com/quick-start/swiftui/how-to-add-a-search-bar-to-filter-your-data)

  - [ëŸ°ì¹˜ìŠ¤í¬ë¦°](https://velog.io/@jyw3927/SwiftUI-Launch-Screen-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-Gradient-Animation)

  - [ì¹´ë“œ ë·°](https://www.appcoda.com/swiftui-card-view/)

- CoreData

  - [avanderlee](https://www.avanderlee.com/swift/persistent-history-tracking-core-data/)

  - [ì…ë¬¸](https://velog.io/@nala/iOS-SwiftUI%EC%97%90%EC%84%9C-CoreData-%EC%8D%A8%EB%B3%B4%EA%B8%B0)

  - [ê¹€ì¢…ê¶Œì˜ iOS](https://ios-development.tistory.com/1162)

  - [ì°¸ê³  í‹°ìŠ¤í† ë¦¬](https://growingsaja.tistory.com/791)
